<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="d3/d3.min.js"></script>
  <style>
    .chart {
    
    }
    
    .main text {
        font: 10px sans-serif;
    }
    
    .axis line, .axis path {
        shape-rendering: crispEdges;
        stroke: black;
        fill: none;
    }
    
    circle {
        fill: steelblue;
    }
  </style>
</head>
<body>
  <div class='content'>
      <!-- /the chart goes here -->
  </div>
  <script>
    var allSamples;

    var size = 400;
    var chart = d3.select("body").append("svg")
                  .attr("width", size)
                  .attr("height", size)
                  .style("border", "1px solid black");

    var x = d3.scale.linear()
                    .domain([-1,1])
                    .range([0,size]);
    var y = d3.scale.linear()
                    .domain([-1,1])
                    .range([size,0]);


    d3.csv("models/clean_samples.csv", function(error,data) {
      data.forEach(function(d) {
          d.lp__ = parseFloat(d.lp__);
          d.treedepth__ = parseFloat(d.treedepth__);
          d.stepsize__ = parseFloat(d.stepsize__);
          d.alpha = parseFloat(d.alpha);
          d.beta = parseFloat(d.beta);
          d.sigma_noise = parseFloat(d.sigma_noise);
       });
      allSamples = data;

      var index = 0;
      setInterval(function() {
        if (index < allSamples.length) {
          update(allSamples[index++]);
        }
      }, 100);
    });

    function update(data) {
      var lines = chart.selectAll("line")
                       .data([data]);
          lines.enter().append("line");

      var lineAttributes 
          = lines
                 .attr("x1", x(-1))
                 .attr("y1", y(data.alpha - data.beta))
                 .attr("x2", x(1))
                 .attr("y2", y(data.alpha + data.beta))
                 .style("stroke-width", 1)
                 .style("stroke", "blue");
    }
  </script>
</body>
</html>
